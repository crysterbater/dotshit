// MagicActions for Google Chrome - CHROMEACTIONS.COM - Copyright (c) 2017 Vlad & Serge Strukoff. All Rights Reserved.
(function(){function l(){h.runtime.sendMessage(0);setTimeout(l,12E3)}function n(d){if(d.type==a){try{var b=JSON.parse(d.detail)}catch(q){return}var c=b.id;6===c?(k||(k=new p),k.capture()):7===c||11===c?h.runtime.sendMessage(d.detail):4===c?(c=b.name,"ui"!==c||0!==b.value&&1!==b.value?"cinc"===c&&-1<b.value&&64>b.value?h.runtime.sendMessage(d.detail):"cins"===c&&"string"==typeof b.value&&32769>b.value.lenght&&h.runtime.sendMessage(d.detail):h.runtime.sendMessage(d.detail)):2===c&&"string"==typeof b.url&&
(5<b.url.indexOf("kWa.html")||32==b.url.indexOf("UCCwIAJrwWGB"))&&h.runtime.sendMessage(d.detail)}}function p(){function d(b,c,d){a.w!=c&&(a.w=g.width=c,a.h=g.height=d);k.drawImage(b,0,0);f=k.getImageData(0,0,c,d).data;a.rgba&&window.URL.revokeObjectURL(a.rgba);a.rgba=window.URL.createObjectURL(new Blob([f],{type:"application/octet-stream"}));h.runtime.sendMessage(a)}function b(){var a=document.querySelector('meta[property="og:image"');a&&a.content&&window.fetch(a.content,{method:"GET"}).then(function(a){return a.blob()}).then(function(a){c(a)})}
function c(a){if(a){var c=window.URL.createObjectURL(new Blob([a],{type:"application/octet-stream"})),b=new Image;b.onload=function(){window.URL.revokeObjectURL(c);d(b,b.width,b.height)};b.src=c}}var a={id:6},f;a.t=encodeURIComponent(document.title.slice(0,document.title.length-10));var e=document.body.querySelector('meta[itemprop="videoId"]');a.vid=e?e.getAttribute("content"):"";e=document.getElementById("eow-reuse");a.lic=e?e.textContent:"";if(e=document.querySelector("video")){var g=document.createElement("canvas");
var k=g.getContext("2d")}this.capture=function(){!e||4!=e.readyState&&3!=e.readyState?b():d(e,e.videoWidth,e.videoHeight)}}var m,k,a,h={};chrome.runtime.sendMessage(32);Object.defineProperty(window,"msg__",{get:function(){return null},set:function(d){if(m){var b=a+"b",c=document.createEvent("CustomEvent");c.initCustomEvent(b,!1,!1,d);window.dispatchEvent(c)}else m=!0,a=Math.random().toString(16).slice(2),b=document.documentElement,c=document.createElement("script"),c.text='(function(){function Na(){window.ytplayer&&window.ytplayer.config&&window.ytplayer.config.args?(y=window.ytplayer,na(window.ytplayer.config.args,!0)):setTimeout(Na,10)}function mb(a){c=JSON.parse(a.detail);Oa();Pa();L&&L.setTheme(c.ui);Qa();a={id:692,opt:c};var b=document.querySelector(\'iframe[src*="widget/render/comments"]\');b&&b.contentWindow.postMessage(JSON.stringify(a),"*");(a=k(g[0]))?a.style.setProperty("display",c.a0&&c.a4?"block":"none","important"):c.a0&&c.a4&&Ra();Sa&&e&&(ta(),c.mrl?T||\n(T=new Ta):T&&(T.uninit(),T=null));Ua()}function Qa(){document.cookie&&(c.wide&&(document.cookie="wide=1; max-age=22592000; path=/; domain=youtube.com"),c.ww?document.cookie="s_gl=1d69aac621b2f9c0a25dade722d6e24bcwIAAABVUw==; max-age=22592000; path=/; domain=youtube.com":-1<document.cookie.indexOf("s_gl=1d69aac621b2f9c0")&&(document.cookie="s_gl=1d69aac621b2f9c0a25dade722d6e24bcwIAAABVUw==; max-age=0; path=/; domain=youtube.com"))}function ua(a){if(document.embeds.length)for(var b=document.embeds,\nc=b.length,d,f=0;f<c;++f)d=b[f],"application/x-shockwave-flash"===d.type&&d.id&&-1<d.id.indexOf("player")&&!d.mafy?(d.mafy=!0,nb(d)):oa=setTimeout(ua,a,a+1);else oa=setTimeout(ua,a,a+1)}function ob(){q&&-1<document.location.hash.indexOf("t=0")&&(document.location.hash="");var a=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(){if("click"==arguments[0]){var b=this.classList;/ytp-button-prev|ytp-prev-button/.test(b)?arguments[1]=Va:/ytp-button-next|ytp-next-button/.test(b)&&\n(arguments[1]=Va)}a.apply(this,arguments)};var b=HTMLMediaElement.prototype.canPlayType;HTMLMediaElement.prototype.canPlayType=function(){if(q&&c.pt&&!c.pti)return!1;q||Wa();return b.apply(this,arguments)};var n=HTMLMediaElement.prototype.load;HTMLMediaElement.prototype.load=function(){q&&c.pt&&!c.pti||(q?Xa():setTimeout(Xa,1E3));n.apply(this,arguments);HTMLMediaElement.prototype.load=n};var d=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){Ya||pb(this);d.apply(this,arguments)}}\nfunction Xa(){if(e=document.querySelector(q?"#movie_player":"#c4-player"))ta(),q&&setTimeout(va,0)}function qb(a){P&&e&&e.pauseVideo();P=!1}function pb(a){Ya=!0;q&&(P&&a.addEventListener("playing",qb,!1),H&&(clearTimeout(H),H=0),H=setTimeout(wa,3E3));a.addEventListener("timeupdate",rb,!1);c.anns&&setTimeout(function(){var a=document.querySelectorAll(".html5-video-controls .ytp-menu .ytp-button");if(a&&0<a.length)for(var c=0,d=a.length;c<d;c++)"OFF"===a[c].textContent&&a[c].click()},2E3);oa&&(tm=clearTimeout(oa))}\nfunction Va(a){a.stopPropagation();a=this.classList.contains("ytp-button-prev");var b=e.getPlaylist(),c=b.length,d=e.getVideoData(),f=b.indexOf(d.video_id),l=e.getVideoUrl();a?(f--,0>f&&(f=c-1)):(f++,f>=c&&(f=0));window.location.href=l.replace(d.video_id,b[f])}function rb(a){a=a.target;a.currentTime>a.duration-1&&(I?(e.seekTo(0),e.playVideo()):Z?c.pause&&0==c.plist&&e.pauseVideo():(a=Za())&&0<a.offsetWidth&&(a=document.querySelector(".thumb-link"))&&a.click())}function nb(a){function b(){e.getPlayerState?\n(e.addEventListener("onStateChange","__691ps_"),ta(),q&&(va(),H&&(clearTimeout(H),H=0),H=setTimeout(wa,3E3))):setTimeout(b,50)}if(q&&c.pt&&c.pti)a.style.display="none";else if(e=a,q&&y)b();else if(Wa())b();else if(c&&(c.hide||c.ha||c.hq||c.anns||c.pause||c.buf)){a.style.setProperty("visibility","hidden","important");a.style.setProperty("display","none","important");if(a.attributes&&a.attributes.flashvars){var n=sb(a.attributes.flashvars.value);na(n);a.attributes.flashvars.value=tb(n)}setTimeout(function(){a.removeAttribute("wmode");\na.style.setProperty("display","block","important");a.style.setProperty("visibility","visible","important");b()},0)}else b()}function $a(){e.getCurrentTime()>=e.getDuration()-1?ab():setTimeout($a,350)}function ab(){I?setTimeout(function(){e.seekTo(0);e.playVideo()},0):Z&&c.pause&&0==c.plist&&e.pauseVideo()}function Wa(){var a=document.getElementById("upsell-video");if(a){var b=a.getAttribute("data-swf-config");b=JSON.parse(b.replace(/&quot;/g,\'"\'));na(b.args);c.pause&&(b.args.autoplay=0);b=JSON.stringify(b).replace(/"/g,\n"&quot;");a.setAttribute("data-swf-config",b);return!0}return!1}function xa(a){if(!a.adaptive_fmts)return[];for(var b=a.adaptive_fmts.split(","),c,d=[],f=[],l=0,m=b.length;l<m;l++)c=b[l],c.match(/webm/)||(d.push(c),c.match(/type=video/)&&(c=c.match(/[0-9]+x[0-9]+/g))&&f.push(c[0]));return 2<d.length?(a.adaptive_fmts=d.join(","),f):[]}function bb(a){if(!a.adaptive_fmts)return[];a=a.adaptive_fmts.split(",");for(var b,c=[],d=0,f=a.length;d<f;d++)b=a[d],b.match(/webm/)&&b.match(/type=video/)&&(b=b.match(/[0-9]+x[0-9]+/g))&&\nc.push(b[0]);return c}function na(a,b){if(!ya){ya=!ya;Z=a.list;c.ha&&(delete a.ad_module,delete a.ad2_module,delete a.ad3_module,delete a.ad_channel_code_instream,delete a.ad_channel_code_overlay,delete a.ad_device,delete a.ad_eurl,delete a.ad_flags,delete a.ad_host,delete a.ad_host_tier,delete a.ad_logging_flag,delete a.ad_preroll,delete a.ad_slots,delete a.ad_tag,delete a.ad_type,delete a.ad_video_pub_id,delete a.adsense_video_doc_id,delete a.advideo,delete a.aftv,delete a.afv,delete a.afv_ad_tag,\ndelete a.afv_ad_tag_restricted_to_instream,delete a.afv_inslate_ad_tag,delete a.afv_instream_max,delete a.afv_video_min_cpm,delete a.afv_invideo_ad_tag,delete a.allow_html5_ads,delete a.allowed_ads,delete a.as_launched_in_country,delete a.baseUrl,delete a.cafe_experiment_id,delete a.cc_asr,delete a.dynamic_allocation_ad_tag,delete a.max_dynamic_allocation_ad_tag_length,delete a.max_ad_duration,delete a.prefetch_ad_live_stream,delete a.pyv_ad_channel,delete a.rmktEnabled,delete a.use_meta_ad_player);\na.store_user_volume=!0;h&&q&&(a.el="embedded",a.enablesizebutton=!0,a.autoplay=1,a.rel=0);a.enablejsapi=0;c.ww&&(a.cr="US",a.hl="en_US",a.host_language="en");if(c.hq)if(h){if(("tiny"==c.hqi||c.a0&&c.a5)&&a.adaptive_fmts){var n=xa(a);1>n.length&&(n=bb(a))}else n=bb(a),1>n.length&&(n=xa(a));if(1>n.length)a.suggestedQuality=a.vq=c.hqi;else{for(var d,f,l={tiny:144,small:240,medium:360,large:480,hd720:720,hd1080:1080,hd1440:1440,hd2160:2160,hd2880:2880,highres:4320}[c.hqi],m,e=0,g=n.length;e<g;e++)if(m=\nn[e].split("x")[1],l>=m){d=n[e];f=c.hqi;break}d&&(a.video_container_override=d);a.suggestedQuality=a.vq=f}}else a.suggestedQuality=a.vq=c.hqi;else h&&c.a0&&c.a5&&a.adaptive_fmts&&xa(a);c.hide&&(a.autohide=1);c.anns&&(a.iv_load_policy=3);b?P=!0:c.buf?(a.autoplay=1,delete a.ad_preroll,a.live_playback||a.livestream?a.autoplay=1:(delete a.dashmpd,a.tsp_buffer=569228273678),c.pause&&(P=!0)):c.pause&&(a.autoplay=0,h&&(za=!0));Z&&a.referrer&&0<a.referrer.indexOf(Z)&&(a.start=0,c.plist&&(a.autoplay=1,P=!1,\nh&&(za=!1)));"localStorage"in window&&window.localStorage.removeItem("google_experiment_mod")}}function cb(a){if("localStorage"in window){var b=+new Date,c=b+1E10;window.localStorage["yt-player-volume"]=\'{"data":"{\\\\"volume\\\\":\'+a+\',\\\\"muted\\\\":\'+e.isMuted()+\'}","expiration":\'+c+\',"creation":\'+b+"}"}}function Aa(a){if("wheel"==a.type){var b=parseInt(e.getVolume().toFixed(2));a.wheelDelta=a.wheelDelta||-1*a.deltaY;b=0>a.wheelDelta?b-c.gap:b+c.gap}else if(3==a.which||2==a.buttons){b=parseInt(e.getVolume().toFixed(2));\nif(0<a.movementX||0<a.mozMovementX)b+=c.gap;else if(0>a.movementX||0>a.mozMovementX)b-=c.gap;else return!0;Ba=!0}else return!0;100<b?b=100:1>b&&(b=0);e.setVolume(b);c.mwvci?(1==pa?p(w,["top",e.offsetTop+e.offsetHeight-120+"px","left",e.offsetLeft+e.offsetWidth/2-117+"px","width","236px","height","20px"],"important"):2==pa&&p(w,["top",e.offsetTop+12+"px","left",e.offsetLeft+18+"px","width","96px","height","48px"],"important"),w.contentWindow.postMessage(JSON.stringify({vol:parseInt(b),view:pa,color:c.color}),\n"*"),aa?(clearTimeout(aa),aa=0):w.style.setProperty("display","block","important"),aa=setTimeout(function(){w.style.setProperty("display","none","important");clearTimeout(aa);aa=0;cb(b)},700)):cb(b);a.preventDefault();a.stopPropagation()}function ub(a){Ba&&(Ba=!1,a.stopPropagation(),a.preventDefault())}function ta(){function a(){Ca&&(0===U?b("removeEventListener"):1===U&&e.parentElement.removeEventListener("wheel",Aa,!0));Ca=c.mwvc;U=c.mwvct;pa=c.mwvci;Ca&&(0===U?e.parentElement.addEventListener("wheel",\nAa,!0):1===U&&b("addEventListener"))}function b(a){e.parentElement[a]("mousemove",Aa,!0);document[a]("contextmenu",ub,!0)}w?a():vb(a)}function vb(a){w=document.createElement("iframe");qa(w,["scrolling","no","frameborder",0,"allowtransparency","true"]);p(w,["position","absolute","display","none","z-index",2147483647],1);w.onload=a;w.src=D+"NLrl.html";e.parentElement.appendChild(w)}function wb(a){a.stopPropagation();e.showVideoInfo&&(e.info?(e.info=0,e.hideVideoInfo()):(e.info=1,e.showVideoInfo()))}\nfunction wa(){if(L){var a=L.getElementById("perc");if(a&&(a.ev||(a.ev=1,a.addEventListener("click",wb,!1)),e&&e.getVideoLoadedFraction)){var b=e.getVideoLoadedFraction(),b=.99<b?100:parseInt(100*b);a.textContent=isNaN(b)?"":b+"%";100>b?H=setTimeout(wa,3E3):c.buf&&c.buf1&&(new Audio(D+"i/notify.ogg")).play()}}}function sb(a){a=a.split(/&|=/);for(var b={},c=a[0]?0:1,d=a.length;c<d;c+=2)b[a[c]]=a[c+1];return b}function tb(a){var b="",c;for(c in a)b+=c+"="+a[c]+"&";return b}function Q(a,b){var c=xb.call(document,\n"CustomEvent");yb.call(c,a,!1,!1,b);zb.call(window,c)}function Ab(a){c.ui++;1<c.ui&&(c.ui=0);Q("'+
a+'",\'{"id":4,"name":"ui","value":\'+c.ui+"}");a.stopPropagation();a.preventDefault()}function Oa(){c.ui?(document.documentElement.classList.remove("m0"),document.documentElement.classList.add("m1")):(document.documentElement.classList.remove("m1"),document.documentElement.classList.add("m0"))}function Ra(){if(!k(g[0])){var a=document.createElement("div"),b=document.createElement("div");a.id=g[0];a.appendChild(b);\ndocument.body.appendChild(a);a.addEventListener("click",Ab,!1)}}function Pa(){var a=k(g[1]);if(a)a=a.sheet.cssRules,a[1].style.setProperty("opacity",c.ui,"important"),a[3].style.setProperty("display",c.h0&&c.h1?"none":"","important"),a[4].style.setProperty("display",c.h0&&c.h2?"none":"","important"),a[5].style.setProperty("display",c.h0&&c.h3?"none":"","important"),a[6].style.setProperty("display",c.h0&&c.h3?"none":"","important"),a[7].style.setProperty("display",c.h0&&c.h4?"none":"","important"),\na[8].style.setProperty("display",c.h0&&c.h5?"none":"","important"),a[9].style.setProperty("display",c.h0&&c.h6?"none":"","important"),a[10].style.setProperty("display",c.h0&&c.h7?"none":"","important"),a[11].style.setProperty("display",c.h0&&c.h8?"none":"","important"),a[12].style.setProperty("min-height",c.h0&&c.h8?"inherit":"","important"),a[13].style.setProperty("content",c.a0&&c.a1?"★":"",""),a[14].style.setProperty("margin-left",c.a0&&c.a1?"7px":"","");else{a=document.createElement("style");\na.setAttribute("type","text/css");a.id=g[1];document.documentElement.appendChild(a);var a=a.sheet,b="#"+g[0];a.insertRule(b+"{display:block!important;position:fixed;z-index:2147483646;left:3px;top:7px;width:14px !important;height:34px;background:url("+D+"i/sw.png);overflow:hidden}",0);a.insertRule(b+" div{opacity:"+c.ui+";width:14px;height:34px;background:url("+D+"i/sw.png) -14px 0;-webkit-transition:opacity .4s;transition:opacity .4s}",1);a.insertRule("#progress{display:none!important}",2);a.insertRule("#yt-masthead-container{"+\n(c.h0&&c.h1?"display:none!important}":"}"),3);a.insertRule("#watch7-sidebar-contents{"+(c.h0&&c.h2?"display:none!important}":"}"),4);a.insertRule("#action-panel-details{"+(c.h0&&c.h3?"display:none!important}":"}"),5);a.insertRule("#watch7-action-panels{"+(c.h0&&c.h3?"display:none!important}":"}"),6);a.insertRule("#watch-discussion{"+(c.h0&&c.h4?"display:none!important}":"}"),7);a.insertRule("#guide{"+(c.h0&&c.h5?"display:none!important}":"}"),8);a.insertRule("#footer-container{"+(c.h0&&c.h6?"display:none!important}":\n"}"),9);a.insertRule("#ticker,#alerts,.yt-consent{"+(c.h0&&c.h7?"display:none!important}":"}"),10);a.insertRule("#watch7-user-header > a,#watch7-user-header > span,#watch8-action-buttons{"+(c.h0&&c.h8?"display:none!important}":"}"),11);a.insertRule("#watch-header{"+(c.h0&&c.h8?"min-height:inherit}":"}"),12);a.insertRule(".view-count::after,.yt-lockup-meta-info::after{"+(c.a0&&c.a1?"content: \'★\';margin-left:7px;padding:3px;cursor:pointer}":"}"),13);a.insertRule("#"+g[27]+"{width:100%;background-color:yellow;height:8px)}",\n14);a.insertRule(c.pt&&!c.pti?".ytp-error{display:none!important}":"q{}",15)}}function Bb(){if(q)if(c.h0&&c.h4){var a=k("watch-discussion");a&&a.parentElement.removeChild(a)}else c.c0&&c.c4&&Cb();Ua();c.a0&&c.a1&&Db();c.a0&&c.a4&&Ra()}function va(){if("complete"!=document.readyState)setTimeout(va,500);else{if(e&&e.parentElement){z=e.parentElement;A=z.parentElement;Da=A.parentElement;z.style.setProperty("box-shadow","none","important");L||(L=new Eb(c.ui));if(c.cin){c.cina&&Ea();var a=k("page");a&&\n(a.addEventListener("click",db,!1),a.addEventListener("contextmenu",db,!1))}setTimeout(eb,1E3,1);if(za){var b=document.querySelector(".ytp-thumbnail-overlay");b&&b.firstElementChild&&(b.style.display=b.firstElementChild.style.display="",b.style.opacity=b.firstElementChild.style.opacity=1,b.addEventListener("click",function(){b.style.display="none"},!1))}}c.pause&&setTimeout(Fb,3E3,1)}}function db(a){if(/page|player-mole-container|placeholder-player/.test(a.target.id)){var b=a.pageY;50<b&&b<e.offsetHeight+\n50&&(a&&"contextmenu"==a.type?ba(a):Ea(a))}}function Za(){var a=k("autoplay-checkbox");return a&&a.nextElementSibling&&a.nextElementSibling.firstElementChild?a.nextElementSibling.firstElementChild:null}function Fb(){var a=Za();a&&0<a.offsetWidth&&a.click()}function Gb(a){this.getAttribute("data-ma")?this.removeAttribute("data-ma"):c.loop&&(I=c.loop=!1,(a=k(g[10]))&&a.removeAttribute("on"))}function eb(a){if(c.loop||c.pause&&!c.plist){var b=document.getElementsByClassName("toggle-autoplay");b&&0<b.length&&\n(b=b[0],b.classList.contains("yt-uix-button-toggled")&&(b.setAttribute("data-ma",!0),b.click()),a&&b.addEventListener("click",Gb,!1))}}function W(){if(ra){clearInterval(ra);ra=0;var a=k(g[26]);a&&a.parentElement.removeChild(a)}}function Hb(a,b){function c(){V.fillStyle=q;V.fillRect(u,u,R-u-u,J-u-u);V.fillStyle=P;V.fillRect(0,0,R,J);V.fillStyle=Q;V.fillRect(0,0,R,J)}function d(a){var b=a?R:J;a=V.createLinearGradient(0,0,a?R:0,a?0:J);a.addColorStop(0,q);a.addColorStop(Fa/b,q);a.addColorStop(u/b,w);\na.addColorStop((b-u)/b,w);a.addColorStop((b-Fa)/b,q);a.addColorStop(1,q);return a}function f(){this.a=this.b=this.g=this.r=0;this.next=null}if(h){var l,m=b[0],e=b[1],p=b[7],M,u,fb=b[2],C=b[3],B,Fa,Ga,Ha,R,J,y,A,q=b[4],w=b[5],D=b[8],H=b[6],P,Q,L,T;var S=k(g[26]);var I=z.querySelector("video");S&&a.removeChild(S);var fa=document.createElement("canvas");S=document.createElement("canvas");S.style.setProperty("position","absolute");fa.style.setProperty("position","absolute");S.id=g[26];a.insertBefore(S,\na.firstElementChild);var Z=S.getContext("2d");var V=fa.getContext("2d");ra=setInterval(function(){if(!I.paused&&100<I.videoWidth){L!=I.videoWidth&&(L=I.videoWidth,T=I.videoHeight,B=parseInt(L/p),M=1.4*z.offsetHeight*fb,A=z.offsetTop-M,y=z.offsetLeft-M,Ga=z.offsetWidth+M+M,Ha=z.offsetHeight+M+M,R=parseInt(L/e),J=parseInt(T/e),u=J*fb,Fa=J*C,P=d(0),Q=d(1),S.style.setProperty("top",A+"px"),S.style.setProperty("left",y+"px"),S.width=Ga,S.height=Ha,fa.style.setProperty("top",0),fa.style.setProperty("left",\n0),fa.width=R,fa.height=J);V.drawImage(I,0,0,L,T,0,0,R,J);c();l=V.getImageData(0,0,R,J);for(var a=l.data,b,n,m,v,g=0,k=a.length;g<k;g+=4)b=a[g],n=a[g+1],m=a[g+2],v=Math.sqrt(b*b*.299+n*n*.587+m*m*.114),a[g]=v+(b-v)*H,a[g+1]=v+(n-v)*H,a[g+2]=v+(m-v)*H;a=l.data;b=R;n=J;m=B;var ea,r,h,q,w,N,X,Y,E,F,G,K;var O=m+m+1;var U=b-1;v=n-1;var g=m+1,k=g*(g+1)/2,W,ja=new f,t=ja;for(r=1;r<O;r++)t=t.next=new f,r==g&&(W=t);t.next=ja;var da=h=0;var ka=aa[m],la=ba[m];for(ea=0;ea<n;ea++){var ca=X=Y=q=w=N=0;var ga=g*\n(E=a[h]);var ha=g*(F=a[h+1]);var ia=g*(G=a[h+2]);q+=k*E;w+=k*F;N+=k*G;t=ja;for(r=0;r<g;r++)t.r=E,t.g=F,t.b=G,t=t.next;for(r=1;r<g;r++){var x=h+((U<r?U:r)<<2);q+=(t.r=E=a[x])*(K=g-r);w+=(t.g=F=a[x+1])*K;N+=(t.b=G=a[x+2])*K;ca+=E;X+=F;Y+=G;t=t.next}r=ja;t=W;for(O=0;O<b;O++)a[h]=q*ka>>la,a[h+1]=w*ka>>la,a[h+2]=N*ka>>la,q-=ga,w-=ha,N-=ia,ga-=r.r,ha-=r.g,ia-=r.b,x=da+((x=O+m+1)<U?x:U)<<2,ca+=r.r=a[x],X+=r.g=a[x+1],Y+=r.b=a[x+2],q+=ca,w+=X,N+=Y,r=r.next,ga+=E=t.r,ha+=F=t.g,ia+=G=t.b,ca-=E,X-=F,Y-=G,t=t.next,\nh+=4;da+=b}for(O=0;O<b;O++){X=Y=ca=w=N=q=0;h=O<<2;ga=g*(E=a[h]);ha=g*(F=a[h+1]);ia=g*(G=a[h+2]);q+=k*E;w+=k*F;N+=k*G;t=ja;for(r=0;r<g;r++)t.r=E,t.g=F,t.b=G,t=t.next;x=b;for(r=1;r<=m;r++)h=x+O<<2,q+=(t.r=E=a[h])*(K=g-r),w+=(t.g=F=a[h+1])*K,N+=(t.b=G=a[h+2])*K,ca+=E,X+=F,Y+=G,t=t.next,r<v&&(x+=b);h=O;r=ja;t=W;for(ea=0;ea<n;ea++)x=h<<2,a[x]=q*ka>>la,a[x+1]=w*ka>>la,a[x+2]=N*ka>>la,q-=ga,w-=ha,N-=ia,ga-=r.r,ha-=r.g,ia-=r.b,x=O+((x=ea+g)<v?x:v)*b<<2,q+=ca+=r.r=a[x],w+=X+=r.g=a[x+1],N+=Y+=r.b=a[x+2],r=\nr.next,ga+=E=t.r,ha+=F=t.g,ia+=G=t.b,ca-=E,X-=F,Y-=G,t=t.next,h+=b}V.putImageData(l,0,0);D&&c();Z.drawImage(fa,0,0,R,J,0,0,Ga,Ha)}},m);var aa=[513,513,457,513,329,457,336,513,406,329,272,457,389,336,293,513,455,406,365,329,299,272,497,457,421,389,361,336,313,293,274,513,483,455,429,406,384,365,346,329,313,299,285,272,260,497,476,457,438,421,405,389,375,361,348,336,324,313,303,293,283,274,266,513,498,483,469,455,442,429,418,406,395,384,374,365,355,346,338,329,321,313,306,299,292,285,279,272,266,260,\n508,497,486,476,466,457,447,438,429,421,413,405,397,389,382,375,368,361,355,348,342,336,330,324,319,313,308,303,298,293,288,283,279,274,270,266,262,513,506,498,490,483,476,469,462,455,448,442,436,429,423,418,412,406,400,395,390,384,379,374,369,365,360,355,351,346,342,338,333,329,325,321,317,313,310,306,302,299,295,292,288,285,282,279,275,272,269,266,263,260,258,508,502,497,492,486,481,476,471,466,461,457,452,447,443,438,434,429,425,421,417,413,409,405,401,397,393,389,386,382,378,375,371,368,364,361,\n358,355,351,348,345,342,339,336,333,330,327,324,321,319,316,313,311,308,305,303,300,298,295,293,290,288,286,283,281,279,276,274,272,270,268,266,264,262,260],ba=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,\n22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]}}function Ib(a){Ia("GET",D+"i/TP.json?v="+(new Date).getTime(),null,\nnull,"text",function(b){a.colors=b;a.custom=c.cins;Ja(0,c.cinc)})}function gb(a){a.preventDefault();a.stopPropagation();a=k(g[24]);var b=a.offsetLeft;visible_width=a.parentElement.offsetWidth;step=this.left?visible_width-46:-visible_width-46;max=a.scrollWidth-visible_width;b-=step;b<-max&&(b=-max);0<b&&(b=0);a.style.setProperty("margin-left",b+"px","important")}function Ja(a,b){a&&a.stopPropagation();var c=k(g[21]);if(c)if(62<b)W(),z.style.setProperty("box-shadow","none","important"),W(),c.style.setProperty("background",\nc.custom,"important"),c.ind=63;else{var d=a?parseInt(this.ind):b,f=c.colors;try{f=JSON.parse(f)}catch(l){return}d>=f.items.length&&(d=0);c.ind=d;d=f.items[d];d.cinema&&p(c,d.cinema,1);d.movie?p(z,d.movie,1):z.style.setProperty("box-shadow","none","important");d.fx0?Hb(c,d.fx0):W()}}function Jb(a){a.stopPropagation();W();a=k(g[21]);var b=k(g[25]);a.custom=a.custom?a.custom:"linear-gradient(SkyBlue, Tan)";a.ind=63;b.style.setProperty("display","block","important");b.firstElementChild.value=a.custom;\nz.style.setProperty("box-shadow","none","important");a.style.setProperty("background",a.custom,"important")}function Ka(a){a.stopPropagation();a=k(g[21]);var b=a.style.getPropertyValue("background");a.style.setProperty("background",this.value,"important");var c=a.style.getPropertyValue("background");b!=c&&(a.custom=c)}function hb(a){a.preventDefault();a.stopPropagation();k(g[16]).style.setProperty("display","none","important");a=k(g[21]);var b=k(g[22]);if(b)0<b.offsetHeight?(k(g[25]).style.setProperty("display",\n"none","important"),b.style.setProperty("display","none","important"),k(g[16]).style.setProperty("display","block","important"),62<a.ind&&Q("'+
a+'",JSON.stringify({id:4,name:"cins",value:a.custom})),Q("'+a+'",JSON.stringify({id:4,name:"cinc",value:parseInt(a.ind)}))):b.style.setProperty("display","block","important");else{var c=a.colors;try{c=JSON.parse(c)}catch(M){return}b=document.createElement("div");b.id=g[22];p(b,["position","absolute","top",0,"left",0,"width","100%","height","24px","line-height",\n"24px","background","#AAAAAB","overflow","hidden"],1);b.addEventListener("click",function(a){a.preventDefault();a.stopPropagation()},!1);var d=document.createElement("button");d.textContent="#";d.title="Set your own CSS background";p(d,["position","absolute","top",0,"left",0,"width","36px","height","24px","border","solid 1px #AAAAAB","background","#CC181E","color","#fff"],1);b.appendChild(d);d.addEventListener("click",Jb,!1);d=document.createElement("div");d.id=g[23];p(d,["display","block","position",\n"absolute","top",0,"left","36px","right","72px"],1);b.appendChild(d);var f=document.createElement("button");f.textContent="◀";f.left=1;p(f,["position","absolute","top",0,"left",0,"width","36px","height","24px","background","#CC181E","color","#fff","border","solid 1px #AAAAAB"],1);d.appendChild(f);f.addEventListener("click",gb,!1);f=document.createElement("div");p(f,["position","absolute","top",0,"left","36px","right","36px","height","24px","overflow","hidden"],1);d.appendChild(f);var l=document.createElement("div");\nl.id=g[24];p(l,["width",46*c.items.length+"px","background","#333","transition","margin-left .3s"],1);f.appendChild(l);for(var m=0,e=c.items.length;m<e;m++){f=c.items[m];var h=document.createElement("button");h.title=m+1+". "+f.title;h.ind=m;p(h,f.preview,1);p(h,"float left width 46px height 26px".split(" "),1);l.appendChild(h);h.addEventListener("click",Ja,!1)}l.insertBefore(h,l.firstElementChild);l.insertBefore(l.lastElementChild,l.firstElementChild);f=document.createElement("button");f.textContent=\n"▶";p(f,["position","absolute","top",0,"right",0,"width","36px","height","24px","background","#CC181E","color","#fff","border","solid 1px #AAAAAB"],1);d.appendChild(f);f.addEventListener("click",gb,!1);d=document.createElement("div");d.id=g[25];p(d,["display","none","position","absolute","top",0,"left",0,"right","72px","height","24px"],1);b.appendChild(d);f=document.createElement("input");f.type="text";p(f,["width","99%","margin","0","position","absolute","top","0","left","0","bottom","0","padding",\n"0 12px","font","16px Helvetica,Arial,sans-serif","color","#ccc","background","#333","border",0],1);d.appendChild(f);f.spellcheck=!1;f.addEventListener("keyup",Ka,!1);f.addEventListener("paste",Ka,!1);f.addEventListener("cut",Ka,!1);d=document.createElement("button");d.textContent="Save";p(d,["position","absolute","top",0,"right",0,"width","72px","height","24px","background","#CC181E","color","#fff","border","solid 1px #AAAAAB","font-weight","900"],1);b.appendChild(d);d.addEventListener("click",hb,\n!1);a.appendChild(b)}}function sa(a,b){var c=document.createElement("a"),d=k(g[16]);d&&(qa(c,["href",a,"target","_blank","role","button","aria-pressed","false"]),p(c,"display inline-block width 48px height 32px".split(" "),1),c.addEventListener("click",b?b:function(a){a.stopPropagation()},!1),d.appendChild(c))}function La(a){var b=k(g[21]),n=k("content");W();window.scrollTo(0,0);(a=k(g[25]))&&a.style.setProperty("display","none","important");(a=k(g[22]))&&a.style.setProperty("display","none","important");\np(n,"position  top  left ".split(" "),1);p(z,"top  left  width  height  margin-left  padding-left  z-index  position  background  box-shadow none".split(" "),1);p(A,["height","","padding-left",""],1);p(Da,["max-width","","min-width",""],1);if(a=k("page-container")){a.style.setProperty("z-index","");do(a=a.previousElementSibling)&&a.style.setProperty("display","");while(a)}Ma(["placeholder-playlist","placeholder-player","player-playlist","footer-container","alerts","gb","guide","yt-hitchhiker-feedback",\n"yt-uix-clickcard-card1","player-branded-banner","watch7-creator-bar",g[0]],"display","");e.style.setProperty("background","#000","important");(a=k("watch7-sidebar"))&&p(a,["margin-top","","top",""],1);(a=e.querySelector(".video-annotations"))&&a.style.setProperty("display","","important");b.style.setProperty("display","none","important");c.cinf&&Q("'+
a+'",\'{"id":11}\');h&&e.setSize();da=!1}function Ea(a){a&&(a.preventDefault(),a.stopPropagation());if(!K)if(da)La();else{window.scrollTo(0,0);var b;\ne.style.setProperty("box-shadow","none","important");e.style.setProperty("background","none","important");Ma(["placeholder-playlist","placeholder-player","player-playlist","footer-container","alerts","gb","guide","yt-hitchhiker-feedback","yt-uix-clickcard-card1","watch7-creator-bar",g[0]],"display","none");if(b=k("page-container")){b.style.setProperty("z-index","auto","important");do(b=b.previousElementSibling)&&b.style.setProperty("display","none","important");while(b)}(b=k("watch7-sidebar"))&&p(b,\n["-webkit-transition","none","transition","none","margin-top",0,"top",0],1);(a=k(g[21]))?(Ja(0,c.cinc),k(g[16]).style.setProperty("display","block","important")):((b=k("page"))&&p(b,["-webkit-transition","none","transition","none"],1),a=document.createElement("div"),a.id=g[21],p(a,["z-index",2147483648,"position","absolute","top",0,"left",0,"right",0,"bottom",0,"overflow","hidden"],1),document.body.insertBefore(a,document.body.firstElementChild),Ib(a),a.addEventListener("click",La,!1),a.addEventListener("contextmenu",\nba,!1),k(g[16])||(b=document.createElement("div"),b.id=g[16],p(b,["position","absolute","top","4px","right","8px","background-image","url("+D+"i/btns.png)","width","192px","height","32px","overflow","hidden"],1),a.appendChild(b),sa("https://www.chromeactions.com/index.html"),sa("https://www.chromeactions.com/magic-options.html"),sa("#",ib),sa("#",hb)));Kb();a.style.setProperty("display","block","important");c.cinf&&Q("'+
a+'",\'{"id":11, "v":1}\');h&&e.setSize();da=!0}}function Kb(){var a=c.cini;var b=\nk("content");if(c.cinf){var e=screen.width-10;var d=screen.height}else e=window.innerWidth-10,d=window.innerHeight;A.vh||Lb();var f=A.vw;var l=A.vh;a=0==a?.4:1==a?.3:.2;if(f/l>e/d){a=parseInt(e-e*a);var m=parseInt(l*a/f)}else m=parseInt(d-d*a),a=parseInt(f*m/l);l=parseInt((d-m)/2);var g=parseInt(e/2-a/2);(f=k("page"))&&p(f,["transition","none"],1);p(Da,["max-width","none","min-width","none"],1);p(A,["-webkit-transition","none","transition","none","height",d+"px","padding-left",0],1);p(z,["top",l+\n"px","left",g+"px","width",a+"px","height",m+"px","margin-left",0,"padding-left",0,"z-index",2147483648,"position","absolute","background","none"],1);setTimeout(function(){da&&p(b,["position","absolute","top",d+"px","left",e/2-b.offsetWidth/2+"px"],1)},500)}function Lb(){if(y.config.args.adaptive_fmts){var a=y.config.args.adaptive_fmts,b=a.indexOf("size=");-1<b&&(b+=5,A.vw=parseInt(a.slice(b)),isNaN(A.vw)||(b=a.indexOf("x",b),-1<b&&(A.vh=parseInt(a.slice(b+1))),isNaN(A.vh)&&(A.vh=0)))}A.vh||(A.vw=\n1920,A.vh=1080)}function ba(a){if(!(0<a.target.className.indexOf("progress"))){a.stopPropagation();var b,c,d,f,l,m,v=k(g[20]);v||(v=document.createElement("iframe"),qa(v,["id",g[20],"scrolling","no","frameborder",0]),p(v,["display","block","z-index",2147483648,"bottom","48px","right","16px","width","22px","height","17px","position","fixed","background","url("+D+"i/col.png)"],1),document.body.appendChild(v),v.contentWindow.addEventListener("click",ba,!1));if(K){var q=l=m=marginLeft=paddingLeft=f=b=\nc=d=pos="";v.style.setProperty("display","none","important");h&&z.removeEventListener("contextmenu",ba,!0);a&&"contextmenu"==a.type&&a.preventDefault();K=!1}else a.preventDefault(),da&&La(),b=window.innerWidth+"px",c=document.body.offsetHeight+"px",l=m=marginLeft=paddingLeft=0,f=2147483648,pos="fixed",d="none",q="hidden",v.style.setProperty("display","block","important"),h&&z.addEventListener("contextmenu",ba,!0),K=!0;Ma(["footer","yt-hitchhiker-feedback","watch7-main-container","masthead-positioner"],\n"display",d,K);p(z,["left",l,"top",m,"margin-left",marginLeft,"padding-left",paddingLeft,"z-index",f,"position",pos,"width",b,"height",c],K);document.body.style.setProperty("overflow",q);h&&e.setSize()}}function Mb(){k("magicSVG")||Ia("GET",D+"i/rgk.svg",null,null,"document",function(a){a&&(a.documentElement.id="magicSVG",document.body.appendChild(a.documentElement))})}function ib(a){a.preventDefault();a.stopPropagation();h?Q("'+
a+'",JSON.stringify({id:6})):alert("Currently this feature is not supported. You need to use HTML5 player. You can go to Magic options and enable HTML5 player.")}\nfunction jb(a){if("isTrusted"in a&&a.isTrusted){a.stopPropagation();a.preventDefault();var b;a=this.maSh;1==a?b=D+"kWa.html":2==a&&(b="https://www.youtube.com/channel/UCCwIAJrwWGB2GCyZSp41wNg?sub_confirmation=1");Q("'+a+'",\'{"id":2,"url":"\'+b+\'"}\')}}function Eb(){function a(){var e;(e=navigator.mimeTypes["application/x-shockwave-flash"])&&(e=e?e.enabledPlugin.filename:null);e="pepflashplayer.dll"==e||"PepperFlashPlayer.plugin"==e||"libpepflashplayer.so"==e;var C=document.body.querySelector("#watch7-content");\nC?u=!0:C=document.body.querySelector("ytd-video-primary-info-renderer");if(C){m=document.createElement("div");k=document.createElement("div");u||(m.style.setProperty("margin-bottom","12px","important"),1==c.ui&&m.style.setProperty("filter","invert(1)","important"));(new Date).getSeconds();for(var B=Math.floor(12*Math.random()),n=document.createDocumentFragment(),p=0,q=0;q<B;q++)p=n.appendChild(document.createElement("meta"));C.insertBefore(n,C.firstElementChild);C.insertBefore(m,p?p.nextElementSibling:\nC.firstElementChild);C=m;if(B=kb){b:{if(navigator.appVersion&&(B=navigator.appVersion.indexOf("Chrome/"),-1<B)){B=parseInt(navigator.appVersion.slice(B+7));break b}B=0}B=53<B}v=B?kb.call(C,{mode:"closed"}):C;C=D+"css/"+(c.ui?"Frv.css":"BYTF.css");B=document.createElement("link");B.rel="stylesheet";B.type="text/css";B.href=C;M=B;v.appendChild(M);v.appendChild(k);b("b0",0,jb,1);b("b1",0,jb,2);b("b2","Magic Options",g);c.cin&&u&&b("b3","Cinema Mode",Ea);u&&b("b4","Expand",\nba);b("b5","Repeat",d,0,c.loop?"on":0);if(h||e)c.f0&&(b("b8","Apply Color Filter",f),b("b9","Apply Magic Transform",l)),h&&(b("b7","Capture",ib),c.mrl&&(T=new Ta));b("perc","Click to show/hide video info")}else setTimeout(a,1333)}function b(a,b,c,f,d){var e=document.createElement("div");e.id=a;e.className="btn";b&&(e.title=b);d&&e.setAttribute(d,"");f&&(e.maSh=f);k.appendChild(e);c&&e.addEventListener("click",c,!0)}function g(a){a.preventDefault();a.stopPropagation();Q("'+
a+'",JSON.stringify({id:7}))}\nfunction d(a){a.preventDefault();a.stopPropagation();(c.loop=I=!I)?this.setAttribute("on",""):this.removeAttribute("on");eb()}function f(a){a.preventDefault();a.stopPropagation();if(a=h?document.querySelector(".webgl>canvas")||document.querySelector("video"):e){var b=a.getAttribute("magicCF");b?(b=parseInt(b),a.classList.remove("magicCF"+b)):b=0;b++;7<b&&(b=0);0<b?this.setAttribute("on",!0):this.removeAttribute("on");a.setAttribute("magicCF",b);a.classList.add("magicCF"+b);1==b&&(Mb(),a.hasAttribute("magicTF")&&\n"1"==a.getAttribute("magicTF")&&a.classList.remove("magicCF1"));this.title="Apply Color Filter;Detalization;High Contrast;S-High Contrast;Grayscale;Sepia;Red Magic;Invert".split(";")[b]}}function l(a){a.preventDefault();a.stopPropagation();a=document.querySelector(".webgl>canvas");var b=h?a||document.querySelector("video"):e,c=b.getAttribute("magicTF");c?(c=parseInt(c),b.classList.remove("magicTF"+c)):c=0;c++;4<c&&(c=0);0<c?this.setAttribute("on",!0):this.removeAttribute("on");b.setAttribute("magicTF",\nc);b.classList.add("magicTF"+c);1==c?(e.querySelector(".ytp-thumbnail-overlay").classList.add("magicTF1B"),a?a.style.display="none":b.hasAttribute("magicCF")&&"1"==b.getAttribute("magicCF")&&b.classList.remove("magicCF1")):2==c&&(e.querySelector(".ytp-thumbnail-overlay").classList.remove("magicTF1B"),a?a.style.display="":b.hasAttribute("magicCF")&&"1"==b.getAttribute("magicCF")&&b.classList.add("magicCF1"));this.title=["Apply Magic Transform","Magic Vinyl","Magic Zoom","Horizontal-Flip","Vertical-Flip"][c]}\nvar m,v,k,M,u=!1;a();this.setTheme=function(a){M.href=D+"css/"+(a?"Frv.css":"BYTF.css");m&&0==u&&(a?m.style.setProperty("filter","invert(1)","important"):m.style.setProperty("filter","","important"))};this.getElementById=function(a){return v?v.getElementById(a):0}}function Ta(){function a(a){a.preventDefault();a.stopPropagation();clearInterval(m);var h=parseInt(e.getCurrentTime());a=a.pageX-g.getBoundingClientRect().left;var u=g.offsetWidth;l=f.length;a=parseInt(a*q/u);\nu=c(a);if(-1<u)f.splice(u,2);else{h>a&&(u=h,h=a,a=u);for(u=0;u<l;u+=2){var n=f[u],k=f[u+1],v=!1;n>=h&&k<=a?v=!0:n>=h&&n<=a?(a=k,v=!0):k>=h&&k<=a&&(h=n,v=!0);v&&(f[u]=-1,f[u+1]=-1)}f=f.filter(function(a){return-1<a});l=f.length;f.push(h,a)}l=f.length;f.sort(function(a,b){return a==b?0:a>b?1:-1});d();0<l&&(m=setInterval(b,1E3))}function b(){for(var a=e.getCurrentTime(),b,c=1,d=l;c<d;c+=2)if(b=f[c],a>b&&a<b+2){e.seekTo(f[c+1<l?c+1:0]);break}}function c(a){for(var b=0;b<l;b+=2)if(a>=f[b]&&a<=f[b+1])return b}\nfunction d(){var a=h.width=h.offsetWidth;var b=h.height=h.offsetHeight;u.clearRect(0,0,a,b);if(l){u.lineWidth=8;u.strokeStyle="rgba(0, 250, 0,.5)";for(var c=0,d=1;c<l;c+=2,d+=2){b=f[c]*a/q;var e=f[d]*a/q;1>e-b&&(b-=2,e+=2);u.moveTo(b,4);u.lineTo(e,4);u.stroke()}}}var f=[],l,m;var g=document.querySelector(".ytp-progress-bar-container");var k=g.querySelector(".html5-scrubber-button,.ytp-scrubber-button");if(null!=g&&null!=k){var h=document.createElement("canvas");var u=h.getContext("2d");var q=e.getDuration();\nf=[];p(h,["position","absolute","width","100%","height","8px","bottom",0,"z-index",window.getComputedStyle(k,null).getPropertyValue("z-index")],!1);g.insertBefore(h,g.firstElementChild);g.addEventListener("contextmenu",a,!1)}this.uninit=function(){clearInterval(m);g.removeEventListener("contextmenu",a,!1);h.parentElement.removeChild(h)}}function Cb(){function a(m){d&&(f=d.getBoundingClientRect(),128<l-f.top&&(window.removeEventListener("wheel",a,!1),c.c4?setTimeout(b,1E3,0):setTimeout(e,3E3,0)))}\nfunction b(a){var c=document.querySelector(".comment-section-sort-menu>button");if(c){if(c.click(),a=document.querySelector(\'button[data-menu_name="newest-first"]\'))a.click(),setTimeout(e,3E3,0)}else a++,12>a&&setTimeout(b,1E3,a)}function e(){var a=document.getElementById("watch-discussion");if(a){var b=document.createElement("a");b.href="#body";b.textContent="Back to Top";b.className="magicTop";a.appendChild(b)}}var d=k("watch-discussion"),f,l=window.innerHeight;window.addEventListener("wheel",a,\n!1)}function Ua(){c.c0&&c.c1||c.a0&&c.a2?ma||(ma=new Nb):ma&&(ma.uninitialize(),ma=null)}function Nb(){function a(a){"img"==a.target.localName&&24<a.target.width&&(a.target.addEventListener("mouseout",e,!1),b(a));a.preventDefault()}function b(a){d&&(clearTimeout(d),d=0);var b=a.target;a=document.body.querySelectorAll(".g-hovercard");for(var e=0,g=a.length;e<g;++e)a[e].classList.remove("g-hovercard");d=setTimeout(function(){var a="center",d;if((d=b)&&void 0!=d){var e=0,g=0;if(d.offsetParent){do e+=\nd.offsetLeft,g+=d.offsetTop,d=d.offsetParent;while(d)}d=[e,g]}else d=[0,0];var l=d[0],h=d[1],m=b.offsetWidth,k=b.offsetHeight,g=0,n,e=window.scrollY;if(d=b.src)c.c0&&c.c1&&(/s\\d+-c-k/.test(d)?(b.hasAttribute("data-magic")||(b.src=d=d.replace(/s\\d+-c-k/,"s384-c-k")),g=n=384,a="center"):/sz=[0-9]+/.test(d)?(b.hasAttribute("data-magic")||(b.src=d=d.replace(/sz=[0-9]+/,"sz=384")),g=n=384,a="center"):/=s[0-9]+/.test(d)&&(b.hasAttribute("data-magic")||(b.src=d=d.replace(/=s[0-9]+/,"=s384")),g=n=384,a="center"),\nb.setAttribute("data-magic",!0)),0==g&&c.a0&&c.a2&&(/w=\\d+/.test(d)?(d=d.replace(/w=\\d+/,"w=480").replace(/h=\\d+/,"360"),g=480,n=270,a="-45px"):/mqdefault|default/.test(d)&&(d=d.replace(/mqdefault|default/,"hqdefault"),g=480,n=270,a="-45px")),0!=g&&(l<window.innerWidth/2?(m=l+m+32,l="magic-tip-left"):(m=l-g-32,l="magic-tip-right"),h=h-parseInt((n-k)/2)-5,k=parseInt(n/2),h<e&&(k-=e-h,h=e),0>k&&(k=5),e=m,k+="px",m="url("+d+") center "+a+"/100% auto no-repeat",f?(a=f.firstElementChild,d=f.lastElementChild,\nk&&a.style.setProperty("top",k,"important")):(f=document.createElement("div"),a=document.createElement("div"),d=document.createElement("iframe"),f.className="magic-tip",qa(d,["scrolling","no","frameborder",0]),f.appendChild(a),f.appendChild(d),document.body.appendChild(f)),p(f,["top",h+"px","left",e+"px","height",n+"px"],1),p(d,["width",g+"px","height",n+"px","background",m,"display","block"],1),l?(a.style.setProperty("display",""),a.className=l):a.style.setProperty("display","none","important"),\nf.style.setProperty("display","block","important"))},500)}function e(a){a.target.removeEventListener("mouseout",e,!1);d&&(clearTimeout(d),d=0);f&&f.style.setProperty("display","none","important")}var d,f;document.body.addEventListener("mouseover",a,!1);this.uinitialize=function(){document.body.removeEventListener("mouseover",a,!1)}}function Db(){function a(a){do if((a=a.parentElement)&&("li"==a.localName||-1<a.className.search(/yt-lockup-video|video-list-item/)))break;while(a);if(a&&(a=a.querySelector(".yt-thumb-default,.yt-uix-simple-thumb-related,.video-thumb"))){var b,\nc=a.querySelector("img");if(c){a.img_w=c.width;var e=a.dataset.vid;e||(e=c.getAttribute("src"))&&(e=e.split("/")[4])}11==e.length&&Ia("GET","https://www.googleapis.com/youtube/v3/videos?part=statistics&id="+e+"&key=AIzaSyC6wA79STIEv1tewqxtewjwbTMP6uOKLF8",null,null,"text",function(c){if(c){try{c=JSON.parse(c)}catch(C){return}if(c&&c.items&&0<c.items.length&&(items=c.items,b=items[0].statistics)){c=a.parentElement;var d=document.createElement("div"),e=document.createElement("div");d.className="magic-ratings";\ne.className="magic-likes";d.style.width=a.img_w+"px";var f=parseInt(b.likeCount)||0,g=parseInt(b.dislikeCount)||0,g=parseInt(f+g),h=b.commentCount||0,k=g?f/g:0;e.style.setProperty("transform","scaleX(0)","");c.title=(k?(100*k).toFixed(1)+"% of likes from "+g+" votes":"")+(h?"\\n"+h+" comments":"");d.appendChild(e);c.appendChild(d);setTimeout(function(){e.style.setProperty("transform","scaleX("+k+")","")},100)}}})}}document.body.addEventListener("click",function(b){var c=b.target;-1<c.className.search(/view-count|yt-lockup-meta/)&&\n(b.stopPropagation(),b.preventDefault(),c.rating||(c.rating=!0,a(c)))},!1)}function Ia(a,b,c,d,e,g){var f=new XMLHttpRequest;f.onload=function(a){200==this.status?g(this.response):g()};f.onerror=g;f.onabort=g;f.open(a,b,!0);if(d)for(a=0,b=d.length;a<b;a+=2)f.setRequestHeader(d[a],d[a+1]);e&&(f.responseType=e);try{f.send(c)}catch(v){}}function k(a){return document.getElementById(a)}function qa(a,b){for(var c=0,d=b.length;c<d;c+=2)a.setAttribute(b[c],b[c+1])}function p(a,b,c){if(a){var d=0,e=b.length;\nfor(c=c?"important":null;d<e;d+=2)a.style.setProperty(b[d],b[d+1],c)}}function Ma(a,b,c,d){for(var e,g=0,h=a.length;g<h;g++)(e=k(a[g]))&&e.style.setProperty(b,c,d?"important":"")}if("attachShadow"in Element.prototype)var kb=Element.prototype.attachShadow;var xb=Document.prototype.createEvent,yb=CustomEvent.prototype.initCustomEvent,zb=Window.prototype.dispatchEvent,c,D,Ya,ya=!1,lb,e,I,Z,P,Ca,U,pa,w,Ba,aa,H,oa,y,ma,z,A,Da,da,K,ra,L,T,g=[],za,q="/watch"==window.location.pathname,Sa=window.location.pathname.match(/\\/watch|\\/user|\\/channel|\\/channels/);\n(function(){c=JSON.parse(\''+
d+'\');I=c.loop;D=c.extURL;Oa();for(var a=0;32>a;++a)g.push(Math.random().toString(36).replace(/^0\\.[0-9]*/,""));Pa();Qa();Sa&&(ua(1),ob());window.addEventListener("DOMContentLoaded",Bb,!1);window.addEventListener("'+a+'b",mb,!1)})();try{Object.defineProperty(window,"ytplayer",{get:function(){c&&y&&y.config&&y.config.args&&(lb||(lb=!0,h=y.config.html5,c.pt&&(c.pti&&!h?(h=y.config.html5=!0,delete y.config.args.ad_module,delete y.config.args.ad3_module):!c.pti&&h&&(h=y.config.html5=\n!1))),na(y.config.args));return y},set:function(a){y=a},configurable:!0,enumerable:!0})}catch(a){var h=!0;Na()}window.__691ps_=function(a){1==a?(P&&(P=!1,e.pauseVideo()),Z&&$a()):0==a&&ab()}})();',
b.appendChild(c),b.removeChild(c),window.addEventListener(a,n,!1)},configurable:!1});var f=document.createElement("script");f.text='var _ytspf={};Object.defineProperty(window,"ytspf",{get:function(){_ytspf.enabled=false;return _ytspf},set:function(val){_ytspf=val}});';document.documentElement.appendChild(f);document.documentElement.classList.add("m1");for(var g in chrome)if("object"==typeof chrome[g]&&(f=Object.getOwnPropertyDescriptor(chrome,g))){h[g]=f.value;f.value={};f.configurable=!1;f.writable=
!1;try{Object.defineProperty(chrome,g,f)}catch(d){h[g]=chrome[g]}}setTimeout(l,12E3)})();
